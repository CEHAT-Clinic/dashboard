
# Scripts

These are the scripts that can be run from the website. Note that there are two `package.json` files that describe scripts in this project: one in the root directory (the front end) and one in the functions directory (the back end).

## Front End

In the project directory, you can run:

### `npm start` or `npm run start`

Runs the app in the development mode.
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

- The page will reload if you make edits
- You will also see any lint errors in the console
- You will not be able to test the progressive web app (PWA) features with this development mode since the PWA only works in with a production quality build. To test the PWA, use `npm serve`

### `npm run lint`

Lints the code in the root directory according to the Prettier and ESLint rules described in `.eslintrc.json`

### `npm run fix`

Lints the code in the root directory and automatically fixes any formatting issues that can be automatically fixed, such as spacing and newline issues.

### `npm run serve`

Builds the app and runs the app locally.
Open [http://localhost:5000](http://localhost:5000) to view it in the browser.

- This runs a production quality build that can be used to test the Progressive Web App (PWA) functionality of the app
- If you make any edits, you will need to re-run this command so that a new app build is created

### `npm run build`

Builds the app for production to the `build` folder.
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.

See the React documentation section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.

### `npm run clean`

Removes files generated by building the directory with `npm run build`

### `npm run compile`

Compiles the TypeScript code according to the TypeScript config  in `tsconfig.json` and transpiles the TypeScript code to JavaScript

### `npm test` or `npm run test`

Launches the test runner in the interactive watch mode.
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

### `npm run eject`

**Note: this is a one-way operation. Once you `eject`, you can’t go back!**

If you aren’t satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project.

Instead, it will copy all the configuration files and the transitive dependencies (webpack, Babel, ESLint, etc) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point you’re on your own.

You don’t have to ever use `eject`. The curated feature set is suitable for small and middle deployments, and you shouldn’t feel obligated to use this feature. However we understand that this tool wouldn’t be useful if you couldn’t customize it when you are ready for it.

## Backend Functions

From inside the `functions/` directory, you can run:

### `npm run shell`

Builds the functions directory and starts the interactive Cloud Functions shell locally. Cloud Functions can be called directly from this shell, but note that the functions will use the production services for Firestore

### `npm run lint`

Lints the code in the `functions` directory according to the Prettier and Eslint rules described in `.eslintrc.json`

### `npm run fix`

Lints the functions code and automatically fixes any formatting issues that can be automatically fixed, such as spacing and newline issues

### `npm run build`

Builds the functions for production to the `lib` directory

### `npm run serve`

Builds the functions directory and starts the Cloud Functions emulators

### `npm run start`

Alias for `npm run shell`. See `npm run shell` for details

### `npm run deploy`

Deploys the Firebase Cloud Functions. Deploying the functions will cause the current version of the functions to be deployed to production

### `npm run logs`

View the recent logs for deployed Cloud Functions

### `npm run clean`

Removes files generated by building the directory with `npm run build`

### `npm run compile`

Compiles the TypeScript code according to the TypeScript config  in `tsconfig.json` and transpiles the TypeScript code to JavaScript

### `npm run config`

Creates a `.runtimeconfig.json` file with the deployed functions config. This is necessary when running the functions locally if the functions use the deployed `config` from the `firebase-functions` library since local runs cannot use the deployed `config`. This function is called with `npm run shell` so that the functions called by the interactive shell can use the config
